# RAMlustR-With-UI
R script that uses the Shiny package to select an input file involving the results of a LC-MS run and a template file used to identify sample names and blank names to automatically use the RAMClustR package and cluster the  features for further analysis.

Procedure

	To use the RAMClustR app for clustering spectral data, the correct files need to present in a folder with the spectral data exported as a .csv file. The files (below) include the R project file, the RAMClustR Application R file with the RAMClustR and user interface code, the Run RAMClustR App, the Excel Template for identifying the samples and blanks in the experiment, and the ExpDes.csv file necessary for running RAMClustR. 

 
To run the application, open the ramcluster app R project file and the Run RAMClustR App.Rfile in R Studio. Clicking on the Run App button in the Run RAMClustR App.Rfile will open a user interface that allows for the selection of the csv file with the spectral data and the template file with the sample and blank identifying information. 

 
The user interface can be seen below, where the first file to browse should be the spectral data exported as a .csv file and the second file should be the template file. There are additional options one can include when using RAMClustR such as including the internal standards to normalize against when clustering, and two different summarized outputs for additional analysis of the results. The summaries return a reduced output that only shows the top 2 features from each cluster, and another summary that shows the dominant features of the clusters from the output where the top feature for pseudocluster is more than 30% higher than second highest. 

When using the template excel file to identify samples and blanks within the exported spectral .csv file. The user should identify their sample columns from their experiment using a common identifier across all columns. For example, if all samples have the same series of numbers present then the series of numbers can be used in cell B2, this can be true for the same series of characters, or if there is a common punctuation within all samples. If the names of the samples are not uniform then the user should still identify samples with similar series of letters or numbers, but by including a “|” in between the respective unique series identifiers, the application can account for all samples even if they do not have a unique identifier across all sample names/ columns. The same process can be used for identifying blanks within the exported spectral .csv file, but instead of B2 the user identified blanks should be used in cell B3. Alternatively, one can copy the Blank Example cell in C3 as it covers most if not all blanks and non-sample columns within the exported spectral .csv file. To add more unique identifiers for blank names and columns, the user can denote the different identifiers using “|” as seen in in the example cell C3. For best practice, do not put spaces before or after identifiers and “|” as it may cause issues with the application. 

The RAMClustR application will output a .csv file named RAMClustR Output file named RamClustR_Output_ followed by the name of the exported spectral file. If the user chooses to select the option for additional summaries, then two additional files will be produced where the top two features in each cluster is exported as Top_2_Features_ followed by the name of the exported spectral file, and the dominant features exported as Top_Features_Summary followed by the name of the exported spectral file. 

It’s recommended to use a unique set of files listed above for each experiment as the outputs will be named with respect to the input file (the exported spectral .csv file from the analysis) and deposited in the same folder the essential files are located. RAMClustR will also create a pdf file of the spectra within each cluster which is unique to each use of the application. Users can copy the folder with the essential files for each project as needed while updating their template and adding the exported spectral .csv file for ease of use.
